(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{113:function(e,n,t){e.exports=t(153)},153:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),i=t(15),c=t.n(i),o=(t(118),t(50)),u=t(203),l=t(197),d=t(26),s=t(101),h=t(32),f=t(42),m=t(194),g=t(198),v=t(195),p=t(61),b=t(102),E=t(20),y=t(103),L=t(88),O=t(90),j=t(4),w=window.location.host,C="https:"===window.location.protocol?"wss:":"ws:",k=new y.a({uri:"".concat(window.location.protocol,"//").concat(w,"/graphql")}),_=new L.a({uri:"".concat(C,"//").concat(w,"/graphql"),options:{reconnect:!0}}),D=Object(E.d)(function(e){var n=e.query,t=Object(j.l)(n);return"OperationDefinition"===t.kind&&"subscription"===t.operation},_,k),F=Object(O.a)(function(e){var n=e.graphQLErrors,t=e.networkError;n&&n.map(function(e){var n=e.message,t=e.locations,a=e.path;return console.error("[GraphQL error]: Message: ".concat(n,", Location: ").concat(t,", Path: ").concat(a))}),t&&console.error("[Network error]: ".concat(t))}),R=new b.a,A=new p.a({link:E.a.from([F,D]),cache:R}),x=t(189),S=function(e){var n=e.location;return r.a.createElement("div",null,r.a.createElement(h.b,{to:"/"},r.a.createElement(x.a,{variant:"body1"},"< Back to Home")),r.a.createElement(x.a,{variant:"h2"},"No Match For ".concat(n.pathname)))},$=t(39),P=t(45),q=t(12),N=t(18),I=t.n(N),M=t(201),Q=t(191),V=t(192);function B(){var e=Object(q.a)(["\n  subscription lightRemoved {\n    lightRemoved {\n      ...lightFields\n    }\n  }\n  ","\n"]);return B=function(){return e},e}function T(){var e=Object(q.a)(["\n  subscription lightAdded {\n    lightAdded {\n      ...lightFields\n    }\n  }\n  ","\n"]);return T=function(){return e},e}function U(){var e=Object(q.a)(["\n  subscription lightChanged {\n    lightChanged {\n      ...lightFields\n    }\n  }\n  ","\n"]);return U=function(){return e},e}function H(){var e=Object(q.a)(["\n  mutation removeLight($id: String!) {\n    removeLight(id: $id) {\n      ...lightFields\n    }\n  }\n  ","\n"]);return H=function(){return e},e}function J(){var e=Object(q.a)(["\n  mutation addLight($id: String!) {\n    addLight(id: $id) {\n      ...lightFields\n    }\n  }\n  ","\n"]);return J=function(){return e},e}function z(){var e=Object(q.a)(["\n  mutation setLight($id: String!, $lightData: LightInput!) {\n    setLight(id: $id, lightData: $lightData) {\n      ...lightFields\n    }\n  }\n  ","\n"]);return z=function(){return e},e}function G(){var e=Object(q.a)(["\n  query discoveredLights {\n    discoveredLights {\n      ...lightFields\n    }\n  }\n  ","\n"]);return G=function(){return e},e}function W(){var e=Object(q.a)(["\n  query lights {\n    lights {\n      ...lightFields\n    }\n  }\n  ","\n"]);return W=function(){return e},e}function K(){var e=Object(q.a)(["\n  query light($id: String!) {\n    light(id: $id) {\n      ...lightFields\n    }\n  }\n  ","\n"]);return K=function(){return e},e}function X(){var e=Object(q.a)(["\n  fragment lightFields on Light {\n    id\n    name\n    connected\n    on\n    brightness\n    color\n    effect\n    speed\n    supportedEffects\n    ipAddress\n    macAddress\n    numLeds\n    udpPort\n    version\n    hardware\n    colorOrder\n    stripType\n  }\n"]);return X=function(){return e},e}var Y=I()(X()),Z=I()(K(),Y);var ee=I()(W(),Y);var ne=I()(G(),Y);var te=I()(z(),Y);function ae(e){return Q.a(te,e)}var re=I()(J(),Y);var ie=I()(H(),Y);function ce(e){return Q.a(ie,e)}var oe=I()(U(),Y);function ue(e){return V.a(oe,e)}var le=I()(T(),Y);var de=I()(B(),Y);var se=t(193),he=t(196),fe=t(200),me=t(106),ge=t(204),ve=t(93),pe=function(e){var n=e.value,t=e.onChange,a=Object(me.a)(e,["value","onChange"]),i=r.a.useState(n),c=Object(P.a)(i,2),o=c[0],u=c[1];r.a.useEffect(function(){u(n)},[n]);return r.a.createElement(ge.a,Object.assign({value:o,onChange:function(e,n){Object(ve.isArray)(n)||o!==n&&(u(n),t(n))}},a))};pe.defaultProps={onChange:function(){}};var be=pe;function Ee(){var e=Object(q.a)(["\n  subscription lightRemoved {\n    lightRemoved {\n      ...lightFields\n    }\n  }\n  ","\n"]);return Ee=function(){return e},e}function ye(){var e=Object(q.a)(["\n  subscription lightAdded {\n    lightAdded {\n      ...lightFields\n    }\n  }\n  ","\n"]);return ye=function(){return e},e}function Le(){var e=Object(q.a)(["\n  subscription lightChanged {\n    lightChanged {\n      ...lightFields\n    }\n  }\n  ","\n"]);return Le=function(){return e},e}function Oe(){var e=Object(q.a)(["\n  mutation removeLight($id: String!) {\n    removeLight(id: $id) {\n      ...lightFields\n    }\n  }\n  ","\n"]);return Oe=function(){return e},e}function je(){var e=Object(q.a)(["\n  mutation addLight($id: String!) {\n    addLight(id: $id) {\n      ...lightFields\n    }\n  }\n  ","\n"]);return je=function(){return e},e}function we(){var e=Object(q.a)(["\n  mutation setLight($id: String!, $lightData: LightInput!) {\n    setLight(id: $id, lightData: $lightData) {\n      ...lightFields\n    }\n  }\n  ","\n"]);return we=function(){return e},e}function Ce(){var e=Object(q.a)(["\n  query discoveredLights {\n    discoveredLights {\n      ...lightFields\n    }\n  }\n  ","\n"]);return Ce=function(){return e},e}function ke(){var e=Object(q.a)(["\n  query lights {\n    lights {\n      ...lightFields\n    }\n  }\n  ","\n"]);return ke=function(){return e},e}function _e(){var e=Object(q.a)(["\n  query light($id: String!) {\n    light(id: $id) {\n      ...lightFields\n    }\n  }\n  ","\n"]);return _e=function(){return e},e}function De(){var e=Object(q.a)(["\n  fragment lightFields on Light {\n    id\n    name\n    connected\n    on\n    brightness\n    color\n    effect\n    speed\n    supportedEffects\n    ipAddress\n    macAddress\n    numLeds\n    udpPort\n    version\n    hardware\n    colorOrder\n    stripType\n  }\n"]);return De=function(){return e},e}var Fe=I()(De()),Re=(I()(_e(),Fe),I()(ke(),Fe)),Ae=I()(Ce(),Fe),xe=(I()(we(),Fe),I()(je(),Fe),I()(Oe(),Fe),I()(Le(),Fe),I()(ye(),Fe),I()(Ee(),Fe),function(e,n){try{var t=e.readQuery({query:Re});if(!t||!t.lights)return;var a=t.lights;e.writeQuery({query:Re,data:{lights:a.filter(function(e){return e.id!==n.id})}})}catch(r){if("Invariant Violation"===r.name)return;throw r}}),Se=function(e,n){try{var t=e.readQuery({query:Re});if(!t||!t.lights)return;var a=t.lights;e.writeQuery({query:Re,data:{lights:a.concat([n])}})}catch(r){if("Invariant Violation"===r.name)return;throw r}},$e=function(e,n){try{var t=e.readQuery({query:Ae});if(!t||!t.discoveredLights)return;var a=t.discoveredLights;e.writeQuery({query:Ae,data:{discoveredLights:a.filter(function(e){return e.id!==n.id})}})}catch(r){if("Invariant Violation"===r.name)return;throw r}},Pe=function(e){var n,t=(n=e,M.a(ee,n));return ue(),function(e){V.a(le,e)}({onSubscriptionData:function(e){var n=e.client,t=e.subscriptionData;if(t.data&&t.data.lightAdded){var a=t.data.lightAdded;a&&($e(n,a),Se(n,a))}}}),function(e){V.a(de,e)}({onSubscriptionData:function(e){var n=e.client,t=e.subscriptionData;if(t.data&&t.data.lightRemoved){var a=t.data.lightRemoved;a&&xe(n,a)}}}),t},qe=function(e){var n,t=(n=e,M.a(Z,n));return ue(),t},Ne=t(94),Ie=t.n(Ne),Me="test"===Object({NODE_ENV:"production",PUBLIC_URL:""}).REACT_APP_ENV?0:500,Qe=t(75);function Ve(){var e=Object(q.a)(["\n  width: ","px;\n  height: ","px;\n  color: ",";\n  text-align: center;\n"]);return Ve=function(){return e},e}function Be(){var e=Object(q.a)(["\n  display: ",";\n"]);return Be=function(){return e},e}var Te=d.b.div(Be(),function(e){return e.disabled?"none":"flex"}),Ue=d.b.div(Ve(),function(e){return e.width},function(e){return e.width},function(e){return e.theme.palette.text.disabled}),He=function(e){var n=e.onChange,t=e.color,i=e.width,c=e.disabled,o=Object(a.useRef)(!1),u=Object(a.useRef)(null),l=Object(a.useRef)(null);return Object(a.useEffect)(function(){l.current=new Qe.a.ColorPicker(u.current,{layout:[{component:Qe.a.ui.Wheel,options:{}}]}),l.current.on("input:start",function(){o.current=!0}),l.current.on("input:end",function(){o.current=!1})},[]),Object(a.useEffect)(function(){var e=function(e){var t=e.hexString;n(t.toUpperCase())};return l&&l.current&&l.current.on("input:change",e),function(){l&&l.current&&l.current.off("input:change",e)}},[n]),Object(a.useEffect)(function(){l&&l.current&&l.current.color.hexString!==t.toLowerCase()&&(o.current||(l.current.color.hexString=t.toLowerCase()))},[t]),Object(a.useEffect)(function(){l&&l.current&&l.current.resize(i)},[i]),r.a.createElement(r.a.Fragment,null,r.a.createElement(Te,{id:"color-picker-container",ref:u,disabled:c}),c&&r.a.createElement(Ue,{width:i},r.a.createElement(x.a,{variant:"body1"},"Color Picker Disabled")))};He.defaultProps={color:"#FF0000",width:320,disabled:!1,onChange:function(){}};var Je=He;function ze(){var e=Object(q.a)(["\n  margin-left: 1rem;\n"]);return ze=function(){return e},e}function Ge(){var e=Object(q.a)(["\n  max-width: 400px;\n"]);return Ge=function(){return e},e}function We(){var e=Object(q.a)(["\n  width: 85%;\n  max-width: 400px;\n  margin-left: 1rem;\n  margin-top: 0.5rem;\n"]);return We=function(){return e},e}function Ke(){var e=Object(q.a)(["\n  display: flex;\n  align-items: center;\n"]);return Ke=function(){return e},e}var Xe=d.b.div(Ke()),Ye=Object(d.b)(be)(We()),Ze=d.b.div(Ge()),en=d.b.div(ze()),nn=function(e){var n,t,a=e.match.params.id,i=qe({fetchPolicy:"cache-and-network",notifyOnNetworkStatusChange:!0,variables:{id:a}}),c=i.data,o=i.error,u=i.loading,l=r.a.useState(""),d=Object(P.a)(l,2),s=d[0],m=d[1],g=r.a.useState(!1),v=Object(P.a)(g,2),p=v[0],b=v[1],E=function(e){var n=ae(e);return r.a.useRef(Ie()(n,Me)).current}(),y=ce();if(u)n=r.a.createElement(x.a,{variant:"body1"},"Loading...");else if(o||!c)n=r.a.createElement(x.a,{variant:"body1"},"Error.");else{var L=c.light;n=r.a.createElement("div",null,r.a.createElement(x.a,{variant:"h3"},L.name),r.a.createElement(x.a,{variant:"h6"},"Rename the light: "),r.a.createElement(he.a,{placeholder:"New Light Name",value:s,color:"primary",onChange:function(e){m(e.target.value)}}),r.a.createElement(se.a,{onClick:(t=L,function(){var e=s;E({variables:{id:t.id,lightData:{name:e}},optimisticResponse:{__typename:"Mutation",setLight:Object($.a)({__typename:"Light"},t,{name:e})}}).then(function(){m("")})}),color:"primary"},"Rename"),r.a.createElement(x.a,{variant:"h6"},"Connected: ".concat(L.connected)),r.a.createElement(Xe,null,r.a.createElement(x.a,{variant:"h6"},"On: "),r.a.createElement(fe.a,{checked:L.on,onChange:function(e){return function(n){var t=n.target.checked;E({variables:{id:e.id,lightData:{on:t}},optimisticResponse:{__typename:"Mutation",setLight:Object($.a)({__typename:"Light"},e,{on:t})}})}}(L),disabled:!L.connected,color:"primary"})),r.a.createElement(x.a,{variant:"h6"},"Brightness:"),r.a.createElement(Ye,{value:L.brightness,min:0,max:100,step:1,onChange:function(e){return function(n){E({variables:{id:e.id,lightData:{brightness:n}},optimisticResponse:{__typename:"Mutation",setLight:Object($.a)({__typename:"Light"},e,{brightness:n})}})}}(L),disabled:!L.connected,color:"primary",valueLabelDisplay:"auto"}),r.a.createElement(x.a,{variant:"h6"},"Color: "),r.a.createElement(en,null,r.a.createElement(Je,{color:L.color,onChange:function(e){return function(n){E({variables:{id:e.id,lightData:{color:n}},optimisticResponse:{__typename:"Mutation",setLight:Object($.a)({__typename:"Light"},e,{color:n})}})}}(L),width:320,disabled:!L.connected})),r.a.createElement(x.a,{variant:"h6"},"Current Effect: ".concat(L.effect)),r.a.createElement(Ze,null,L.supportedEffects&&L.supportedEffects.map(function(e){return r.a.createElement(se.a,{key:e,disabled:!L.connected,color:"primary",onClick:(n=e,t=L,function(){E({variables:{id:t.id,lightData:{effect:n}},optimisticResponse:{__typename:"Mutation",setLight:Object($.a)({__typename:"Light"},t,{effect:n})}})})},e);var n,t})),r.a.createElement(x.a,{variant:"h6"},"Effect Speed:"),r.a.createElement(Ye,{value:L.speed,min:1,max:7,step:1,onChange:function(e){return function(n){E({variables:{id:e.id,lightData:{speed:n}},optimisticResponse:{__typename:"Mutation",setLight:Object($.a)({__typename:"Light"},e,{speed:n})}})}}(L),color:"primary",disabled:!L.connected,valueLabelDisplay:"auto",marks:!0}),r.a.createElement(x.a,{variant:"h6"},"Config Info:"),r.a.createElement(x.a,{variant:"body1"},"ID: ".concat(L.id)),r.a.createElement(x.a,{variant:"body1"},"Name: ".concat(L.name)),r.a.createElement(x.a,{variant:"body1"},"IP Address: ".concat(L.ipAddress)),r.a.createElement(x.a,{variant:"body1"},"MAC Address: ".concat(L.macAddress)),r.a.createElement(x.a,{variant:"body1"},"Number of LEDs: ".concat(L.numLeds)),r.a.createElement(x.a,{variant:"body1"},"UDP Port: ".concat(L.udpPort)),r.a.createElement(x.a,{variant:"body1"},"Version: ".concat(L.version)),r.a.createElement(x.a,{variant:"body1"},"Hardware: ".concat(L.hardware)),r.a.createElement(x.a,{variant:"body1"},"Color Order: ".concat(L.colorOrder)),r.a.createElement(x.a,{variant:"body1"},"Strip Type: ".concat(L.stripType)),r.a.createElement(x.a,{variant:"h6"},"Remove the light: "),r.a.createElement(se.a,{onClick:function(e){return function(){y({variables:{id:e.id},update:function(e,n){var t=n.data;if(t&&t.removeLight){var a=t.removeLight;xe(e,a)}}}).then(function(){return b(!0)})}}(L),color:"primary"},"Remove"))}return r.a.createElement("div",null,r.a.createElement(h.b,{to:"/"},r.a.createElement(se.a,null,"< Back")),n,p&&r.a.createElement(f.a,{push:!0,to:"/"}))};function tn(){var e=Object(q.a)(["\n  display: flex;\n  align-items: center;\n"]);return tn=function(){return e},e}var an=d.b.div(tn()),rn=function(){var e,n,t=r.a.useState(""),a=Object(P.a)(t,2),i=a[0],c=a[1],o=Q.a(re,e),u=function(e){return M.a(ne,e)}({fetchPolicy:"network-only",pollInterval:3e3}),l=u.data,d=u.loading,s=u.error;return n=d?r.a.createElement(x.a,{variant:"body1"},"Loading..."):s?r.a.createElement(x.a,{variant:"body1"},"Error"):l&&l.discoveredLights&&l.discoveredLights.length?l.discoveredLights.map(function(e){return r.a.createElement(an,{key:e.id},r.a.createElement(se.a,{onClick:(n=e.id,function(){o({variables:{id:n},update:function(e,n){var t=n.data;if(t&&t.addLight){var a=t.addLight;$e(e,a),Se(e,a)}}})})},"Add"),r.a.createElement(x.a,{variant:"body1"},e.id));var n}):r.a.createElement(x.a,{variant:"body1"},"None"),r.a.createElement("div",null,r.a.createElement(x.a,{variant:"h4"},"Add Light"),r.a.createElement(an,null,r.a.createElement(se.a,{onClick:function(){o({variables:{id:i},update:function(e,n){var t=n.data;if(t&&t.addLight){var a=t.addLight;$e(e,a),Se(e,a)}}}).then(function(){c("")})}},"Add"),r.a.createElement(he.a,{placeholder:"New Light ID",value:i,onChange:function(e){c(e.target.value)}})),r.a.createElement(x.a,{variant:"h6"},"Discovered Lights"),n)},cn=function(){return r.a.createElement("div",null,"About")},on=t(78),un=t.n(on),ln=t(100);function dn(){var e=Object(q.a)(["\n  display: flex;\n  align-items: center;\n"]);return dn=function(){return e},e}var sn=d.b.div(dn()),hn=function(){var e,n=Pe({fetchPolicy:"cache-and-network",notifyOnNetworkStatusChange:!0}),t=n.data,a=n.error,i=n.loading,c=n.networkStatus,o=n.refetch,u=ce(),l=ae(),d=function(e){return function(n){var t=n.target.checked;l({variables:{id:e.id,lightData:{on:t}},optimisticResponse:{__typename:"Mutation",setLight:Object($.a)({__typename:"Light"},e,{on:t})}})}},s=function(){var e=Object(ln.a)(un.a.mark(function e(){return un.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a?window.location.reload():o();case 1:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();return e=i||4===c?r.a.createElement(x.a,{variant:"body1"},"Loading..."):a?r.a.createElement(x.a,{variant:"body1"},"Error."):t&&t.lights&&t.lights.length?t.lights.map(function(e){return r.a.createElement(sn,{key:e.id},r.a.createElement(se.a,{onClick:(n=e.id,function(){u({variables:{id:n},update:function(e,n){var t=n.data;if(t&&t.removeLight){var a=t.removeLight;xe(e,a)}}})})},"Remove"),r.a.createElement(fe.a,{checked:e.on,onChange:d(e),disabled:!e.connected,color:"primary"}),r.a.createElement(h.b,{to:"/light/".concat(e.id)},r.a.createElement(x.a,{variant:"body1"},e.name)));var n}):r.a.createElement(x.a,{variant:"body1"},"None"),r.a.createElement("div",null,r.a.createElement(x.a,{variant:"h4"},"Prysma"),r.a.createElement(se.a,{onClick:s},"Refetch"),r.a.createElement(x.a,{variant:"h6"},"Light List"),e)},fn=Object(s.a)(),mn=function(){return r.a.createElement(o.a,{client:A},r.a.createElement(l.b,{injectFirst:!0},r.a.createElement(d.a,{theme:fn},r.a.createElement(h.a,null,r.a.createElement(u.a,null),r.a.createElement(m.a,{position:"static"},r.a.createElement(g.a,{value:!1},r.a.createElement(v.a,{label:"Home",component:h.b,to:"/"}),r.a.createElement(v.a,{label:"Add Light",component:h.b,to:"/addLight/"}),r.a.createElement(v.a,{label:"About",component:h.b,to:"/about/"}))),r.a.createElement(f.d,null,r.a.createElement(f.b,{path:"/",exact:!0,component:hn}),r.a.createElement(f.b,{path:"/about/",exact:!0,component:cn}),r.a.createElement(f.b,{path:"/addLight/",exact:!0,component:rn}),r.a.createElement(f.b,{path:"/light/:id",exact:!0,component:nn}),r.a.createElement(f.b,{component:S}))))))};c.a.render(r.a.createElement(mn,null),document.getElementById("root"))}},[[113,1,2]]]);
//# sourceMappingURL=main.961b12fe.chunk.js.map