(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{111:function(e,t,n){e.exports=n(150)},150:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(15),c=n.n(i),o=(n(116),n(50)),u=n(198),l=n(193),d=n(31),s=n(99),h=n(30),m=n(42),f=n(190),g=n(194),v=n(191),p=n(65),b=n(100),E=n(19),y=n(101),L=n(87),O=n(89),j=n(4),w=window.location.host,C="https:"===window.location.protocol?"wss:":"ws:",_=new y.a({uri:"".concat(window.location.protocol,"//").concat(w,"/graphql")}),k=new L.a({uri:"".concat(C,"//").concat(w,"/graphql"),options:{reconnect:!0}}),D=Object(E.d)(function(e){var t=e.query,n=Object(j.l)(t);return"OperationDefinition"===n.kind&&"subscription"===n.operation},k,_),A=Object(O.a)(function(e){var t=e.graphQLErrors,n=e.networkError;t&&t.map(function(e){var t=e.message,n=e.locations,a=e.path;return console.error("[GraphQL error]: Message: ".concat(t,", Location: ").concat(n,", Path: ").concat(a))}),n&&console.error("[Network error]: ".concat(n))}),F=new b.a,R=new p.a({link:E.a.from([A,D]),cache:F}),S=n(185),$=function(e){var t=e.location;return r.a.createElement("div",null,r.a.createElement(h.b,{to:"/"},r.a.createElement(S.a,{variant:"body1"},"< Back to Home")),r.a.createElement(S.a,{variant:"h2"},"No Match For ".concat(t.pathname)))},P=n(38),q=n(35),N=n(14),x=n(17),I=n.n(x),M=n(196),Q=n(187),V=n(188);function B(){var e=Object(N.a)(["\n  subscription lightRemoved {\n    lightRemoved {\n      ...lightFields\n    }\n  }\n  ","\n"]);return B=function(){return e},e}function T(){var e=Object(N.a)(["\n  subscription lightAdded {\n    lightAdded {\n      ...lightFields\n    }\n  }\n  ","\n"]);return T=function(){return e},e}function U(){var e=Object(N.a)(["\n  subscription lightChanged {\n    lightChanged {\n      ...lightFields\n    }\n  }\n  ","\n"]);return U=function(){return e},e}function H(){var e=Object(N.a)(["\n  mutation removeLight($id: String!) {\n    removeLight(id: $id) {\n      ...lightFields\n    }\n  }\n  ","\n"]);return H=function(){return e},e}function J(){var e=Object(N.a)(["\n  mutation addLight($id: String!) {\n    addLight(id: $id) {\n      ...lightFields\n    }\n  }\n  ","\n"]);return J=function(){return e},e}function z(){var e=Object(N.a)(["\n  mutation setLight($id: String!, $lightData: LightInput!) {\n    setLight(id: $id, lightData: $lightData) {\n      ...lightFields\n    }\n  }\n  ","\n"]);return z=function(){return e},e}function G(){var e=Object(N.a)(["\n  query discoveredLights {\n    discoveredLights {\n      ...lightFields\n    }\n  }\n  ","\n"]);return G=function(){return e},e}function W(){var e=Object(N.a)(["\n  query lights {\n    lights {\n      ...lightFields\n    }\n  }\n  ","\n"]);return W=function(){return e},e}function K(){var e=Object(N.a)(["\n  query light($id: String!) {\n    light(id: $id) {\n      ...lightFields\n    }\n  }\n  ","\n"]);return K=function(){return e},e}function X(){var e=Object(N.a)(["\n  fragment lightFields on Light {\n    id\n    name\n    connected\n    on\n    brightness\n    color\n    effect\n    speed\n    supportedEffects\n    ipAddress\n    macAddress\n    numLeds\n    udpPort\n    version\n    hardware\n    colorOrder\n    stripType\n  }\n"]);return X=function(){return e},e}var Y=I()(X()),Z=I()(K(),Y);var ee=I()(W(),Y);var te=I()(G(),Y);var ne=I()(z(),Y);function ae(e){return Q.a(ne,e)}var re=I()(J(),Y);var ie=I()(H(),Y);function ce(e){return Q.a(ie,e)}var oe=I()(U(),Y);function ue(e){return V.a(oe,e)}var le=I()(T(),Y);var de=I()(B(),Y);var se=n(189),he=n(192),me=n(197),fe=n(104),ge=n(200),ve=n(92);function pe(){var e=Object(N.a)(["\n  padding-top: 1rem;\n  padding-bottom: 1rem;\n"]);return pe=function(){return e},e}var be=Object(d.b)(ge.a)(pe()),Ee=function(e){var t=e.value,n=e.onChange,a=Object(fe.a)(e,["value","onChange"]),i=r.a.useState(t),c=Object(q.a)(i,2),o=c[0],u=c[1];r.a.useEffect(function(){u(t)},[t]);return r.a.createElement(be,Object.assign({value:o,onChange:function(e,t){Object(ve.isArray)(t)||(u(t),n(t))}},a))};Ee.defaultProps={onChange:function(){}};var ye=Ee;function Le(){var e=Object(N.a)(["\n  subscription lightRemoved {\n    lightRemoved {\n      ...lightFields\n    }\n  }\n  ","\n"]);return Le=function(){return e},e}function Oe(){var e=Object(N.a)(["\n  subscription lightAdded {\n    lightAdded {\n      ...lightFields\n    }\n  }\n  ","\n"]);return Oe=function(){return e},e}function je(){var e=Object(N.a)(["\n  subscription lightChanged {\n    lightChanged {\n      ...lightFields\n    }\n  }\n  ","\n"]);return je=function(){return e},e}function we(){var e=Object(N.a)(["\n  mutation removeLight($id: String!) {\n    removeLight(id: $id) {\n      ...lightFields\n    }\n  }\n  ","\n"]);return we=function(){return e},e}function Ce(){var e=Object(N.a)(["\n  mutation addLight($id: String!) {\n    addLight(id: $id) {\n      ...lightFields\n    }\n  }\n  ","\n"]);return Ce=function(){return e},e}function _e(){var e=Object(N.a)(["\n  mutation setLight($id: String!, $lightData: LightInput!) {\n    setLight(id: $id, lightData: $lightData) {\n      ...lightFields\n    }\n  }\n  ","\n"]);return _e=function(){return e},e}function ke(){var e=Object(N.a)(["\n  query discoveredLights {\n    discoveredLights {\n      ...lightFields\n    }\n  }\n  ","\n"]);return ke=function(){return e},e}function De(){var e=Object(N.a)(["\n  query lights {\n    lights {\n      ...lightFields\n    }\n  }\n  ","\n"]);return De=function(){return e},e}function Ae(){var e=Object(N.a)(["\n  query light($id: String!) {\n    light(id: $id) {\n      ...lightFields\n    }\n  }\n  ","\n"]);return Ae=function(){return e},e}function Fe(){var e=Object(N.a)(["\n  fragment lightFields on Light {\n    id\n    name\n    connected\n    on\n    brightness\n    color\n    effect\n    speed\n    supportedEffects\n    ipAddress\n    macAddress\n    numLeds\n    udpPort\n    version\n    hardware\n    colorOrder\n    stripType\n  }\n"]);return Fe=function(){return e},e}var Re=I()(Fe()),Se=(I()(Ae(),Re),I()(De(),Re)),$e=I()(ke(),Re),Pe=(I()(_e(),Re),I()(Ce(),Re),I()(we(),Re),I()(je(),Re),I()(Oe(),Re),I()(Le(),Re),function(e,t){try{var n=e.readQuery({query:Se});if(!n||!n.lights)return;var a=n.lights;e.writeQuery({query:Se,data:{lights:a.filter(function(e){return e.id!==t.id})}})}catch(r){if("Invariant Violation"===r.name)return;throw r}}),qe=function(e,t){try{var n=e.readQuery({query:Se});if(!n||!n.lights)return;var a=n.lights;e.writeQuery({query:Se,data:{lights:a.concat([t])}})}catch(r){if("Invariant Violation"===r.name)return;throw r}},Ne=function(e,t){try{var n=e.readQuery({query:$e});if(!n||!n.discoveredLights)return;var a=n.discoveredLights;e.writeQuery({query:$e,data:{discoveredLights:a.filter(function(e){return e.id!==t.id})}})}catch(r){if("Invariant Violation"===r.name)return;throw r}},xe=function(e){var t,n=(t=e,M.a(ee,t));return ue(),function(e){V.a(le,e)}({onSubscriptionData:function(e){var t=e.client,n=e.subscriptionData;if(n.data&&n.data.lightAdded){var a=n.data.lightAdded;a&&(Ne(t,a),qe(t,a))}}}),function(e){V.a(de,e)}({onSubscriptionData:function(e){var t=e.client,n=e.subscriptionData;if(n.data&&n.data.lightRemoved){var a=n.data.lightRemoved;a&&Pe(t,a)}}}),n},Ie=function(e){var t,n=(t=e,M.a(Z,t));return ue(),n},Me=n(97),Qe=n.n(Me),Ve="test"===Object({NODE_ENV:"production",PUBLIC_URL:""}).REACT_APP_ENV?0:500,Be=n(78),Te=function(e){var t=e.onChange,n=e.color,i=e.width,c=r.a.useState(!1),o=Object(q.a)(c,2),u=o[0],l=o[1],d=Object(a.useRef)(null),s=Object(a.useRef)(null);return Object(a.useEffect)(function(){s.current=new Be.a.ColorPicker(d.current,{layout:[{component:Be.a.ui.Wheel,options:{}}]}),s.current.on("input:start",function(){return l(!0)}),s.current.on("input:end",function(){return l(!1)})},[]),Object(a.useEffect)(function(){var e=function(e){var n=e.hexString;t(n.toUpperCase())};return s&&s.current&&s.current.on("input:change",e),function(){s&&s.current&&s.current.off("input:change",e)}},[t]),Object(a.useEffect)(function(){s&&s.current&&s.current.color.hexString!==n.toLowerCase()&&(u||(s.current.color.hexString=n.toLowerCase()))},[n]),Object(a.useEffect)(function(){s&&s.current&&s.current.resize(i)},[i]),r.a.createElement("div",{id:"color-picker-container",ref:d})};Te.defaultProps={color:"#FF0000",width:320,onChange:function(){}};var Ue=Te;function He(){var e=Object(N.a)(["\n  display: flex;\n  align-items: center;\n"]);return He=function(){return e},e}var Je=d.b.div(He()),ze=function(e){var t,n,a=e.match.params.id,i=Ie({fetchPolicy:"cache-and-network",notifyOnNetworkStatusChange:!0,variables:{id:a}}),c=i.data,o=i.error,u=i.loading,l=r.a.useState(""),d=Object(q.a)(l,2),s=d[0],f=d[1],g=r.a.useState(!1),v=Object(q.a)(g,2),p=v[0],b=v[1],E=function(e){var t=ae(e);return r.a.useRef(Qe()(t,Ve)).current}(),y=ce();if(u)t=r.a.createElement(S.a,{variant:"body1"},"Loading...");else if(o||!c)t=r.a.createElement(S.a,{variant:"body1"},"Error.");else{var L=c.light;t=r.a.createElement("div",null,r.a.createElement(S.a,{variant:"h3"},L.name),r.a.createElement(S.a,{variant:"h6"},"Rename the light: "),r.a.createElement(he.a,{placeholder:"New Light Name",value:s,color:"primary",onChange:function(e){f(e.target.value)}}),r.a.createElement(se.a,{onClick:(n=L,function(){var e=s;E({variables:{id:n.id,lightData:{name:e}},optimisticResponse:{__typename:"Mutation",setLight:Object(P.a)({__typename:"Light"},n,{name:e})}}).then(function(){f("")})}),color:"primary"},"Rename"),r.a.createElement(S.a,{variant:"h6"},"Connected: ".concat(L.connected)),r.a.createElement(Je,null,r.a.createElement(S.a,{variant:"h6"},"On: "),r.a.createElement(me.a,{checked:L.on,onChange:function(e){return function(t){var n=t.target.checked;E({variables:{id:e.id,lightData:{on:n}},optimisticResponse:{__typename:"Mutation",setLight:Object(P.a)({__typename:"Light"},e,{on:n})}})}}(L),disabled:!L.connected,color:"primary"})),r.a.createElement(S.a,{variant:"h6"},"Brightness: "),r.a.createElement(ye,{value:L.brightness,min:0,max:100,step:1,onChange:function(e){return function(t){E({variables:{id:e.id,lightData:{brightness:t}},optimisticResponse:{__typename:"Mutation",setLight:Object(P.a)({__typename:"Light"},e,{brightness:t})}})}}(L),disabled:!L.connected,color:"primary",valueLabelDisplay:"auto"}),r.a.createElement(S.a,{variant:"h6"},"Color: "),r.a.createElement(Ue,{color:L.color,onChange:function(e){return function(t){E({variables:{id:e.id,lightData:{color:t}},optimisticResponse:{__typename:"Mutation",setLight:Object(P.a)({__typename:"Light"},e,{color:t})}})}}(L),width:320}),r.a.createElement(S.a,{variant:"h6"},"Current Effect: ".concat(L.effect)),L.supportedEffects&&L.supportedEffects.map(function(e){return r.a.createElement(se.a,{key:e,disabled:!L.connected,color:"primary",onClick:(t=e,n=L,function(){E({variables:{id:n.id,lightData:{effect:t}},optimisticResponse:{__typename:"Mutation",setLight:Object(P.a)({__typename:"Light"},n,{effect:t})}})})},e);var t,n}),r.a.createElement(S.a,{variant:"h6"},"Effect Speed:"),r.a.createElement(ye,{value:L.speed,min:1,max:7,step:1,onChange:function(e){return function(t){E({variables:{id:e.id,lightData:{speed:t}},optimisticResponse:{__typename:"Mutation",setLight:Object(P.a)({__typename:"Light"},e,{speed:t})}})}}(L),color:"primary",disabled:!L.connected,valueLabelDisplay:"auto",marks:!0}),r.a.createElement(S.a,{variant:"h6"},"Config Info:"),r.a.createElement(S.a,{variant:"body1"},"ID: ".concat(L.id)),r.a.createElement(S.a,{variant:"body1"},"Name: ".concat(L.name)),r.a.createElement(S.a,{variant:"body1"},"IP Address: ".concat(L.ipAddress)),r.a.createElement(S.a,{variant:"body1"},"MAC Address: ".concat(L.macAddress)),r.a.createElement(S.a,{variant:"body1"},"Number of LEDs: ".concat(L.numLeds)),r.a.createElement(S.a,{variant:"body1"},"UDP Port: ".concat(L.udpPort)),r.a.createElement(S.a,{variant:"body1"},"Version: ".concat(L.version)),r.a.createElement(S.a,{variant:"body1"},"Hardware: ".concat(L.hardware)),r.a.createElement(S.a,{variant:"body1"},"Color Order: ".concat(L.colorOrder)),r.a.createElement(S.a,{variant:"body1"},"Strip Type: ".concat(L.stripType)),r.a.createElement(S.a,{variant:"h6"},"Remove the light: "),r.a.createElement(se.a,{onClick:function(e){return function(){y({variables:{id:e.id},update:function(e,t){var n=t.data;if(n&&n.removeLight){var a=n.removeLight;Pe(e,a)}}}).then(function(){return b(!0)})}}(L),color:"primary"},"Remove"))}return r.a.createElement("div",null,r.a.createElement(h.b,{to:"/"},r.a.createElement(se.a,null,"< Back")),t,p&&r.a.createElement(m.a,{push:!0,to:"/"}))};function Ge(){var e=Object(N.a)(["\n  display: flex;\n  align-items: center;\n"]);return Ge=function(){return e},e}var We=d.b.div(Ge()),Ke=function(){var e,t,n=r.a.useState(""),a=Object(q.a)(n,2),i=a[0],c=a[1],o=Q.a(re,e),u=function(e){return M.a(te,e)}({fetchPolicy:"network-only",pollInterval:3e3}),l=u.data,d=u.loading,s=u.error;return t=d?r.a.createElement(S.a,{variant:"body1"},"Loading..."):s?r.a.createElement(S.a,{variant:"body1"},"Error"):l&&l.discoveredLights&&l.discoveredLights.length?l.discoveredLights.map(function(e){return r.a.createElement(We,{key:e.id},r.a.createElement(se.a,{onClick:(t=e.id,function(){o({variables:{id:t},update:function(e,t){var n=t.data;if(n&&n.addLight){var a=n.addLight;Ne(e,a),qe(e,a)}}})})},"Add"),r.a.createElement(S.a,{variant:"body1"},e.id));var t}):r.a.createElement(S.a,{variant:"body1"},"None"),r.a.createElement("div",null,r.a.createElement(S.a,{variant:"h4"},"Add Light"),r.a.createElement(We,null,r.a.createElement(se.a,{onClick:function(){o({variables:{id:i},update:function(e,t){var n=t.data;if(n&&n.addLight){var a=n.addLight;Ne(e,a),qe(e,a)}}}).then(function(){c("")})}},"Add"),r.a.createElement(he.a,{placeholder:"New Light ID",value:i,onChange:function(e){c(e.target.value)}})),r.a.createElement(S.a,{variant:"h6"},"Discovered Lights"),t)},Xe=function(){return r.a.createElement("div",null,"About")};function Ye(){var e=Object(N.a)(["\n  display: flex;\n  align-items: center;\n"]);return Ye=function(){return e},e}var Ze=d.b.div(Ye()),et=function(){var e,t=xe({fetchPolicy:"cache-and-network",notifyOnNetworkStatusChange:!0}),n=t.data,a=t.error,i=t.loading,c=t.networkStatus,o=t.refetch,u=ce(),l=ae(),d=function(e){return function(t){var n=t.target.checked;l({variables:{id:e.id,lightData:{on:n}},optimisticResponse:{__typename:"Mutation",setLight:Object(P.a)({__typename:"Light"},e,{on:n})}})}};return e=i||4===c?r.a.createElement(S.a,{variant:"body1"},"Loading..."):a?r.a.createElement(S.a,{variant:"body1"},"Error."):n&&n.lights&&n.lights.length?n.lights.map(function(e){return r.a.createElement(Ze,{key:e.id},r.a.createElement(se.a,{onClick:(t=e.id,function(){u({variables:{id:t},update:function(e,t){var n=t.data;if(n&&n.removeLight){var a=n.removeLight;Pe(e,a)}}})})},"Remove"),r.a.createElement(me.a,{checked:e.on,onChange:d(e),disabled:!e.connected,color:"primary"}),r.a.createElement(h.b,{to:"/light/".concat(e.id)},r.a.createElement(S.a,{variant:"body1"},e.name)));var t}):r.a.createElement(S.a,{variant:"body1"},"None"),r.a.createElement("div",null,r.a.createElement(S.a,{variant:"h4"},"Prysma"),r.a.createElement(se.a,{onClick:function(){return o()}},"Refetch"),r.a.createElement(S.a,{variant:"h6"},"Light List"),e)},tt=Object(s.a)(),nt=function(){return r.a.createElement(o.a,{client:R},r.a.createElement(l.b,{injectFirst:!0},r.a.createElement(d.a,{theme:tt},r.a.createElement(h.a,null,r.a.createElement(u.a,null),r.a.createElement(f.a,{position:"static"},r.a.createElement(g.a,{value:0},r.a.createElement(v.a,{label:"Home",component:h.b,to:"/"}),r.a.createElement(v.a,{label:"Add Light",component:h.b,to:"/addLight/"}),r.a.createElement(v.a,{label:"About",component:h.b,to:"/about/"}))),r.a.createElement(m.d,null,r.a.createElement(m.b,{path:"/",exact:!0,component:et}),r.a.createElement(m.b,{path:"/about/",exact:!0,component:Xe}),r.a.createElement(m.b,{path:"/addLight/",exact:!0,component:Ke}),r.a.createElement(m.b,{path:"/light/:id",exact:!0,component:ze}),r.a.createElement(m.b,{component:$}))))))};c.a.render(r.a.createElement(nt,null),document.getElementById("root"))}},[[111,1,2]]]);
//# sourceMappingURL=main.43fc5fdd.chunk.js.map